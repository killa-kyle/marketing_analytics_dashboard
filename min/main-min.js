gapi.analytics.ready(function(){function t(t){gapi.client.analytics.data.realtime.get({ids:t.ids,metrics:"rt:activeUsers",dimensions:"rt:pageTitle,rt:pagePath,rt:latitude,rt:longitude,rt:region,rt:country"}).then(function(t){var e=t.result.rows;ACTIVE_USERS_MAP.init(e),$(".active-pages").html("");var a=[];$.each(e,function(t,n){a.push(n[0])});var o=n(a);console.log(o);for(var r=o.length-1;r>=0;r--)$(".active-pages").append('<a class="list-group-item" target="_blank" href="#">'+o[r].value+" <span>"+o[r].count+"</span></a>")})}function n(t){for(var n=[],e=t.slice(0),a=0;a<t.length;a++){for(var o=0,r=0;r<e.length;r++)t[a]==e[r]&&(o++,delete e[r]);if(o>0){var s={};s.value=t[a],s.count=o,n.push(s)}}return n}function e(t){console.log("RENDERING TABLE"),Promise.all([o(t),r(t),s(t),a(t)]).then(function(t){var n=t[0].rows.map(function(t){return t}),e=t[1].rows.map(function(t){return t}),a=t[2].rows.map(function(t){return t}),o=t[3].rows.map(function(t){return t});$(".this-week-date-header").html(moment(t[0].query["start-date"]).format("MM/DD/YY")+" - "+moment(t[0].query["end-date"]).format("MM/DD/YY")),$(".last-week-date-header").html(moment(t[1].query["start-date"]).format("MM/DD/YY")+" - "+moment(t[1].query["end-date"]).format("MM/DD/YY"));var r=new Array(4);r[0]=n,r[1]=e,r[2]=a,r[3]=o,console.log(r);var s=0,i=0,c=0,l=0,d=0,g=0,m=0,u=0;$("#channels tbody").html("");for(var p=0;p<r[0].length;p++){var h=r[1][p][0],f=parseInt(r[0][p][1]),v=parseFloat(r[0][p][2]).toFixed(2),Y=parseInt(r[0][p][3]),M=parseInt(r[1][p][1]),y=parseFloat(r[1][p][2]).toFixed(2),D=parseInt(r[1][p][3]),w=parseInt(r[2][p][1]),C=parseFloat(r[2][p][2]).toFixed(2),b=parseInt(r[2][p][3]),I=parseInt(r[3][p][1]),L=parseFloat(r[3][p][2]).toFixed(2),S=parseInt(r[3][p][3]);s+=f,i+=Y,c+=M,l+=D,d+=w,g+=b,m+=I,u+=S,$("#channels").append('<tr class="channel-row"><td>'+h+"</td><td>"+I.toLocaleString()+"<span> ("+S+") ("+L+"%)</span></td><td>"+f.toLocaleString()+"<span> ("+Y+") ("+v+"%)</span></td><td>"+M.toLocaleString()+"<span> ("+D+") ("+y+"%)</span></td><td>"+w.toLocaleString()+"<span> ("+b+") ("+C+"%)</span></td></tr>")}$("#channels").append('<tr class="channel-row"><td><strong>TOTAL:</strong></td><td><strong>'+m.toLocaleString()+"<strong><span> ("+u+")</span></td><td><strong>"+s.toLocaleString()+"<strong><span> ("+i+")</span></td><td><strong>"+c.toLocaleString()+"<strong><span> ("+l+")</span></td><td><strong>"+d.toLocaleString()+"<strong><span> ("+g+")</span></td></tr>")})}function a(t){var n=moment(),e=i({ids:t,dimensions:"ga:channelGrouping",metrics:"ga:sessions,ga:goal1ConversionRate,ga:goal1Completions",sort:"ga:channelGrouping","start-date":moment(n).format("YYYY-MM-DD"),"end-date":moment(n).format("YYYY-MM-DD")});return e}function o(t){var n=moment(),e=i({ids:t,dimensions:"ga:channelGrouping",metrics:"ga:sessions,ga:goal1ConversionRate,ga:goal1Completions",sort:"ga:channelGrouping","start-date":moment(n).subtract(1,"day").day(0).format("YYYY-MM-DD"),"end-date":moment(n).format("YYYY-MM-DD")});return e}function r(t){var n=moment(),e=i({ids:t,dimensions:"ga:channelGrouping",metrics:"ga:sessions,ga:goal1ConversionRate,ga:goal1Completions",sort:"ga:channelGrouping","start-date":moment(n).subtract(1,"day").day(0).subtract(1,"week").format("YYYY-MM-DD"),"end-date":moment(n).subtract(1,"day").day(6).subtract(1,"week").format("YYYY-MM-DD")});return e}function s(t){var n=moment(),e=i({ids:t,dimensions:"ga:channelGrouping",metrics:"ga:sessions,ga:goal1ConversionRate,ga:goal1Completions",sort:"ga:channelGrouping","start-date":moment(n).subtract(1,"months").startOf("month").format("YYYY-MM-DD"),"end-date":moment(n).subtract(1,"months").endOf("month").format("YYYY-MM-DD")});return e}function i(t){return new Promise(function(n,e){var a=new gapi.analytics.report.Data({query:t});a.once("success",function(t){n(t)}).once("error",function(t){e(t)}).execute()})}function c(t){var n=document.getElementById(t),e=document.createElement("canvas"),a=e.getContext("2d");return n.innerHTML="",e.width=n.offsetWidth,e.height=n.offsetHeight,n.appendChild(e),a}function l(t,n){var e=document.getElementById(t);e.innerHTML=n.map(function(t){var n=t.color||t.fillColor,e=t.label;return'<li><i style="background:'+n+'"></i>'+e+"</li>"}).join("")}gapi.analytics.auth.authorize({container:"embed-api-auth-container",clientid:"476592068856-ki5v355o2t1pthp0h73s6bgddm3v0i80.apps.googleusercontent.com"});var d=new gapi.analytics.ext.ActiveUsers({container:"active-users-container",pollingInterval:19});d.once("success",function(){var t=this.container.firstChild,n;this.on("change",function(t){var e=this.container.firstChild,a=t.delta>0?"is-increasing":"is-decreasing";e.className+=" "+a,clearTimeout(n),n=setTimeout(function(){e.className=e.className.replace(/ is-(increasing|decreasing)/g,"")},3e3)})});var g=new gapi.analytics.ext.ViewSelector2({container:"view-selector-container"}).execute();g.on("viewChange",function(n){var a=document.getElementById("view-name");a.innerHTML=n.property.name+" ("+n.view.name+")",$("#embed-api-auth-container").hide(),d.set(n).execute(),e(n.ids),t(n),setInterval(function(){t(n),e(n.ids)},18e3)}),Chart.defaults.global.animationSteps=60,Chart.defaults.global.animationEasing="easeInOutQuart",Chart.defaults.global.responsive=!0,Chart.defaults.global.maintainAspectRatio=!1});
//# sourceMappingURL=./main-min.js.map